<!DOCTYPE html>
<html>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
<!DOCTYPE html>
<html lang="en-us">



<link rel="stylesheet" href="/css/fonts.css">
<link rel="stylesheet" href="/css/main-site.css">
<link rel="stylesheet" href="/css/fa5-all.css">
<style type="text/css">
    /* Google Fonts */


body {
	background-color: <no value>;
	color: <no value>;
}

/* Links */

a {
  color: <no value>;
}

a:hover {
  color: <no value>;
}

a:focus {
  outline-color: <no value>;
}

.column25-left .sectionTitle a:hover:not(.current),
.column16-left .sectionTitle a:hover:not(.current) { /* Tutorial left sidebar */
  color: <no value>;
}

.icon-attribution, 
.icon-attribution a {
  color: <no value>;
  opacity: 75%;
}


/* Landing page content bands */

#homeContent .band.first {
  background-color: <no value>;
}

#homeContent .band.second {
  background-color: <no value>;
}

#homeContent .band.third {
  background-color: <no value>;
}

/* Top navigation bar menu */

#rStudioHeader {
  background-color: <no value>;
  color: <no value>;
}

#rStudioHeader .productName {
  color: <no value>;
}

#rStudioHeader .productName:hover,
#rStudioHeader .productName:focus {
  color: <no value>;
}

#rStudioHeader #menu .menuItem.a {
  background-color: #75aadb;
  color: <no value>;
}

#rStudioHeader #menu .menuItem:hover {
  background-color: <no value>;
  color: <no value>;
}

#rStudioHeader #menu .menuItem.current {
  background-color: <no value>;
  color: <no value>;
  text-decoration: <no value>;
}

/* Footer */

#rStudioFooter.band {
  background-color: <no value>;
}

#rStudioFooter .bandContent #copyright {
  color: <no value>;
}

/* Tables */

table tbody tr:nth-child(even){
  background-color: <no value>;
}

table tbody tr:nth-child(odd){
  background-color: <no value>;
}

.latest {
  border-top: .5em solid <no value>;
}


/* ------Accent Font------- */





/* ----Accent color for headers, toc, etc.----- */



/* Custom colored bullets */



/* ------Capitalization of Headers------- */

  

/* -----Hexes------*/


/*----- Borders------ */



/*--- Event Stickies ---*/


















/* ------Test Drive Button-------*/














 

</style>




<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.147.2">
<title>tibble 3.0.0</title>
<meta property="og:title" content="tibble 3.0.0" />
<meta property="og:description" content="tibble 3.0.0 is on CRAN now! Tibbles are a modern reimagining of the data frame, keeping what time has shown to be effective, and throwing out what is not, with nicer default output too! This article describes the latest major release and provides an outlook on further developments
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/blog/2020/04/tibble-3-0-0/" />



<meta property="twitter:card" content="summary_large_image">





    <meta property="og:title" content="tibble 3.0.0 - Education">
    <meta property="description" content="tibble 3.0.0 is on CRAN now! Tibbles are a modern reimagining of the data frame, keeping what time has shown to be effective, and throwing out what is not, with nicer default output too! This article describes the latest major release and provides an outlook on further developments
">
    <meta property="og:description" content="tibble 3.0.0 is on CRAN now! Tibbles are a modern reimagining of the data frame, keeping what time has shown to be effective, and throwing out what is not, with nicer default output too! This article describes the latest major release and provides an outlook on further developments
">

    
    
    
    
    
    
        <meta property="og:image" content="//localhost:1313/blog/2020/04/tibble-3-0-0/thumbnail-sq.jpg" >
    

    
    
    
    
        <meta name="twitter:image" content="//localhost:1313/blog/2020/04/tibble-3-0-0/thumbnail-wd.jpg" >
    





<link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png" />
<link rel="manifest" href="/images/favicons/site.webmanifest" />
<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" />
<link rel="shortcut icon" href="/images/favicons/favicon.ico" />
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" href="/images/favicons/browserconfig.xml" >



<script type="text/javascript" src="/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/js/site.js"></script>








<link rel="icon" href="/images/favicon.ico" />


  
<script type="text/javascript" src="/js/clipboard.js"></script>






  


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

  







  <body>
    <div id="appTidyverseSite" class="shrinkHeader alwaysShrinkHeader">
      <div id="main">
        
        <div id="rStudioHeader">
          <div class="band">
            <div class="innards bandContent">
              <div>
                <a class="productName" href="/">Education</a>
                
              </div>
              <div id="menu">
  <div id="menuToggler"></div>
  <div id="menuItems" class="">
    
    
  </div>
</div>

            </div>
          </div>
        </div>
</head>
<body>


 




<div class="band padForHeader pushFooter">
  <div class="bandContent">
    <div class="full splitColumns withMobileMargins">
      <div class="column75">

      <h1 class="article-title">tibble 3.0.0</h1>

      
      <div class="article-header" aria-hidden="true">
          
          <div class="photo">
          <img src='/blog/2020/04/tibble-3-0-0/thumbnail-wd.jpg'>
          </div>
          
        
        <div class="photoCredit">Photo by <a href="https://unsplash.com/photos/dbOV1qSiL-c">Vinicius Amano</a>
        </div>
        
      </div>

      
      <span class="article-date">
        <i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2020/04/09
      </span>
      
      
          </p>
      
      
      
      
        <p style="margin-top: 0.5em;">
        <i class="fas fa-user-circle fa-fw"></i>&nbsp;
        




  

  Kirill MÃ¼ller
  



      
        </p>
      

      <div class="article-content">
      <p>Version 3.0.0 of the tibble package is on CRAN now. Tibbles are a modern reimagining of the data frame, keeping what time has shown to be effective, and throwing out what is not, with nicer default output too! Grab the latest version with:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">install.packages</span>(<span style="color:#ba2121">&#34;tibble&#34;</span>)
</span></span></code></pre></div><p>Tibble now fully embraces vctrs, using it under the hood for its subsetting and subset assignment (&ldquo;subassignment&rdquo;) operations.
Accessing and updating rows and columns is now based on a rock-solid framework and works consistently for all types of columns, including list, data frame, and
matrix columns.
We believe that the changes will ultimately lead to better and safer code.</p>
<p>This major release required quite some preparation, including a 
<a href="https://tibble.tidyverse.org/articles/invariants.html" target="_blank" rel="noopener">new vignette</a> that describes the behavior of subsetting and subset assignment operations and the reasoning behind it.
For a complete overview please see the 
<a href="https://tibble.tidyverse.org/news/index.html" target="_blank" rel="noopener">release notes</a>.</p>
<p>In a nutshell: if an object is a vector, it can be part of a tibble.
My new 
<a href="https://github.com/krlmlr/awesome-vctrs#readme" target="_blank" rel="noopener">Awesome vectors</a> list aims at giving an overview of available implementations of vector types in R.
If you&rsquo;re using a specialized class, or even implemented one, please file an issue in that repository or contribute an example.
For problems with tibble, use the 
<a href="https://github.com/tidyverse/tibble/issues" target="_blank" rel="noopener">issue tracker</a> to report bugs or suggest ideas, your contributions are always welcome.</p>
<p>The rest of the post is about the technical details of a tibble, and therefore mostly suited for interested R programmers:</p>
<ul>
<li>What can be part of a tibble?</li>
<li>Size and length</li>
<li>Sturdy recycling</li>
</ul>




<h2 id="what-can-be-part-of-a-tibble">What can be part of a tibble?
  <a href="#what-can-be-part-of-a-tibble">
    <svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>Tibbles and data frames are collections of columns, where each column is a vector of the same size.
Neat.</p>
<p>What is a vector?
What is its size?</p>
<p>The new 
<a href="https://vctrs.r-lib.org" target="_blank" rel="noopener">vctrs package</a> is dedicated to answering these surprisingly tricky questions.
Because this blog post describes many functions of this package, we load it.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">library</span>(vctrs)
</span></span></code></pre></div><p>The 
<a href="https://vctrs.r-lib.org/reference/vec_assert.html" target="_blank" rel="noopener"><code>vec_is()</code></a> function decides if an object is a vector.
This is important, because some objects are inherently scalar and cannot be added as a column to a data frame.</p>
<p>Obviously, integers, characters, and other atomic objects (logical, numeric, complex, and raw) are vectors.
Environments, functions, and other &ldquo;special&rdquo; types of objects are clearly non-vectors.
Most objects that consist of an atomic type with a <code>&quot;class&quot;</code> attribute are also vectors: examples are <code>POSIXct</code> and 
<a href="https://hms.tidyverse.org/reference/hms.html" target="_blank" rel="noopener"><code>hms::hms()</code></a>.
Lists are harder because some lists are vectors and some are not.</p>
<p>The <code>vec_is()</code> function implements a heuristic that works automatically in most cases and adds a few special cases from base R.
By relying on <code>vec_is()</code>, the <code>tibble()</code> function and others can give an early error if used with an inherent scalar:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">library</span>(tibble)
</span></span><span style="display:flex;"><span>model <span style="color:#666">&lt;-</span> <span style="color:#00f">lm</span>(y <span style="color:#666">~</span> x, <span style="color:#00f">data.frame</span>(x <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">3</span>, y <span style="color:#666">=</span> <span style="color:#666">2</span><span style="color:#666">:</span><span style="color:#666">4</span>), model <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#00f">tibble</span>(model)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Error: All columns in a tibble must be vectors.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; x Column `model` is a `lm` object.</span>
</span></span><span style="display:flex;"><span>time <span style="color:#666">&lt;-</span> <span style="color:#00f">Sys.time</span>()
</span></span><span style="display:flex;"><span><span style="color:#00f">tibble</span>(time)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   time               </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;dttm&gt;             </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1 2020-04-09 20:38:28</span>
</span></span></code></pre></div><p>The new 
<a href="https://tibble.tidyverse.org/reference/tibble.html" target="_blank" rel="noopener"><code>tibble_row()</code></a> function reverses this: inherent scalars are wrapped in lists:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">tibble_row</span>(model)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   model </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;list&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1 &lt;lm&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">tibble_row</span>(time)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   time               </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;dttm&gt;             </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1 2020-04-09 20:38:28</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">tibble_row</span>(time <span style="color:#666">=</span> <span style="color:#00f">rep</span>(time, <span style="color:#666">2</span>))
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Error: All vectors must be size one, use `list()` to wrap.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; x Column `time` is of size 2.</span>
</span></span></code></pre></div><p>If you have implemented a vector class, double-check that 
<a href="https://vctrs.r-lib.org/reference/vec_assert.html" target="_blank" rel="noopener"><code>vec_is()</code></a> returns <code>TRUE</code> for your objects.
Please also add it to my 
<a href="https://github.com/krlmlr/awesome-vctrs#readme" target="_blank" rel="noopener">Awesome vectors</a> list, or file an issue.</p>




<h2 id="size-and-length">Size and length
  <a href="#size-and-length">
    <svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>Data frames and matrices are also recognized vectors, and can be part of a tibble:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df <span style="color:#666">&lt;-</span> <span style="color:#00f">data.frame</span>(a <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">3</span>, b <span style="color:#666">=</span> <span style="color:#666">2</span><span style="color:#666">:</span><span style="color:#666">4</span>)
</span></span><span style="display:flex;"><span>m <span style="color:#666">&lt;-</span> <span style="color:#00f">matrix</span>(<span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">6</span>, ncol <span style="color:#666">=</span> <span style="color:#666">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">vec_is</span>(df)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">vec_is</span>(m)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">tibble</span>(packed <span style="color:#666">=</span> df)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 3 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   packed$a    $b</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;      &lt;int&gt; &lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1        1     2</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 2        2     3</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 3        3     4</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">tibble</span>(m)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 2 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   m[,1]  [,2]  [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1     1     3     5</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 2     2     4     6</span>
</span></span></code></pre></div><p>The &ldquo;elements&rdquo; of a data frame or matrix are its rows.
All subsetting and subassignment operations now use 
<a href="https://vctrs.r-lib.org/reference/vec_slice.html" target="_blank" rel="noopener"><code>vec_slice()</code></a> under the hood.
Contrary to <code>[</code>, slicing will work along the rows for matrices and data frames.</p>
<p>For these and a few types, length and size are different: the length refers to the size of the internal data format, whereas the size is the number of elements.
The 
<a href="https://vctrs.r-lib.org/reference/vec_size.html" target="_blank" rel="noopener"><code>vec_size()</code></a> function, modeled after <code>NROW()</code>, returns the latter:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">vec_size</span>(df)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] 3</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">length</span>(df)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] 2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">vec_size</span>(m)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] 2</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">length</span>(m)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] 6</span>
</span></span></code></pre></div><p>For your own code, it is almost always safer to use <code>vec_size()</code> instead of <code>length()</code>.
Use <code>ncol()</code> to count the columns in a data frame.</p>




<h2 id="sturdy-recycling">Sturdy recycling
  <a href="#sturdy-recycling">
    <svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>We always recycled only vectors of size one in <code>tibble()</code> and <code>as_tibble()</code>.
This now also applies to subassignment.
We believe that most of the time this is an unintended error.
Please use an explicit <code>rep()</code> or <code>rep_len()</code> if you really need to create a column that consists of multiple repetitions of a vector.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(a <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">4</span>)
</span></span><span style="display:flex;"><span>x<span style="color:#666">$</span>a <span style="color:#666">&lt;-</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">2</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Error: Assigned data `1:2` must be compatible with existing data.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; x Existing data has 4 rows.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; x Assigned data has 2 rows.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; â¹ Only vectors of size 1 are recycled.</span>
</span></span><span style="display:flex;"><span>x<span style="color:#666">$</span>a <span style="color:#666">&lt;-</span> <span style="color:#00f">rep</span>(<span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">2</span>, <span style="color:#666">2</span>)
</span></span><span style="display:flex;"><span>x
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 4 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;       a</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1     1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 2     2</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 3     1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 4     2</span>
</span></span></code></pre></div><p>Related errors may also appear when applying a pattern that works with regular data frames:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#666">&lt;-</span> <span style="color:#00f">data.frame</span>(a <span style="color:#666">=</span> <span style="color:#666">1</span>, b <span style="color:#666">=</span> <span style="color:#666">2</span>)
</span></span><span style="display:flex;"><span>x[1, ] <span style="color:#666">&lt;-</span> <span style="color:#00f">c</span>(a <span style="color:#666">=</span> <span style="color:#666">3</span>, b <span style="color:#666">=</span> <span style="color:#666">4</span>)
</span></span><span style="display:flex;"><span>x
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   a b</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1 3 4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(a <span style="color:#666">=</span> <span style="color:#666">1</span>, b <span style="color:#666">=</span> <span style="color:#666">2</span>)
</span></span><span style="display:flex;"><span>x[1, ] <span style="color:#666">&lt;-</span> <span style="color:#00f">c</span>(a <span style="color:#666">=</span> <span style="color:#666">3</span>, b <span style="color:#666">=</span> <span style="color:#666">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Error: Assigned data `c(a = 3, b = 4)` must be compatible with row subscript `1`.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; x 1 row must be assigned.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; x Assigned data has 2 rows.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; â¹ Row updates require a list value. Do you need `list()` or `as.list()`?</span>
</span></span></code></pre></div><p>This is because all vectors on the right-hand side are treated as columnar data.
Convert to a list to treat the input as row data:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x[1, ] <span style="color:#666">&lt;-</span> <span style="color:#00f">list</span>(a <span style="color:#666">=</span> <span style="color:#666">3</span>, b <span style="color:#666">=</span> <span style="color:#666">4</span>)
</span></span><span style="display:flex;"><span>x
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 2</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;       a     b</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1     3     4</span>
</span></span></code></pre></div><p>The ambiguity between a row vector and a column vector also affects the <code>as_tibble()</code> function.
For this reason, it is now superseded for atomic and list inputs.
In new code, use the new 
<a href="https://tibble.tidyverse.org/reference/as_tibble.html" target="_blank" rel="noopener"><code>as_tibble_row()</code> and <code>as_tibble_col()</code></a> functions to clarify intent.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">as_tibble_row</span>(<span style="color:#00f">c</span>(a <span style="color:#666">=</span> <span style="color:#666">3</span>, b <span style="color:#666">=</span> <span style="color:#666">4</span>))
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 2</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;       a     b</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1     3     4</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">as_tibble_col</span>(<span style="color:#00f">c</span>(a <span style="color:#666">=</span> <span style="color:#666">3</span>, b <span style="color:#666">=</span> <span style="color:#666">4</span>))
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 2 x 1</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   value</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1     3</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 2     4</span>
</span></span></code></pre></div>



<h2 id="acknowledgments">Acknowledgments
  <a href="#acknowledgments">
    <svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>Due to the nature of the changes, about 60 CRAN packages were failing with our release candidate.
Many thanks to the maintainers of downstream packages who were very helpful in making this upgrade a smooth experience.</p>
<p>Thanks to the following contributors who sent issues, pull requests, and comments since tibble 2.1.3:</p>
<p>
<a href="https://github.com/adamdsmith" target="_blank" rel="noopener">@adamdsmith</a>, 
<a href="https://github.com/alankjackson" target="_blank" rel="noopener">@alankjackson</a>, 
<a href="https://github.com/anabbott" target="_blank" rel="noopener">@anabbott</a>, 
<a href="https://github.com/batpigandme" target="_blank" rel="noopener">@batpigandme</a>, 
<a href="https://github.com/billdenney" target="_blank" rel="noopener">@billdenney</a>, 
<a href="https://github.com/borisleto" target="_blank" rel="noopener">@borisleto</a>, 
<a href="https://github.com/Breza" target="_blank" rel="noopener">@Breza</a>, 
<a href="https://github.com/Cervangirard" target="_blank" rel="noopener">@Cervangirard</a>, 
<a href="https://github.com/courtiol" target="_blank" rel="noopener">@courtiol</a>, 
<a href="https://github.com/dan-reznik" target="_blank" rel="noopener">@dan-reznik</a>, 
<a href="https://github.com/daviddalpiaz" target="_blank" rel="noopener">@daviddalpiaz</a>, 
<a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan</a>, 
<a href="https://github.com/elinw" target="_blank" rel="noopener">@elinw</a>, 
<a href="https://github.com/EmilHvitfeldt" target="_blank" rel="noopener">@EmilHvitfeldt</a>, 
<a href="https://github.com/eran3006" target="_blank" rel="noopener">@eran3006</a>, 
<a href="https://github.com/frederikziebell" target="_blank" rel="noopener">@frederikziebell</a>, 
<a href="https://github.com/gavinsimpson" target="_blank" rel="noopener">@gavinsimpson</a>, 
<a href="https://github.com/gdequeiroz" target="_blank" rel="noopener">@gdequeiroz</a>, 
<a href="https://github.com/guiastrennec" target="_blank" rel="noopener">@guiastrennec</a>, 
<a href="https://github.com/hadley" target="_blank" rel="noopener">@hadley</a>, 
<a href="https://github.com/HashRocketSyntax" target="_blank" rel="noopener">@HashRocketSyntax</a>, 
<a href="https://github.com/hope-data-science" target="_blank" rel="noopener">@hope-data-science</a>, 
<a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc</a>, 
<a href="https://github.com/jmgirard" target="_blank" rel="noopener">@jmgirard</a>, 
<a href="https://github.com/kevinwolz" target="_blank" rel="noopener">@kevinwolz</a>, 
<a href="https://github.com/kieranjmartin" target="_blank" rel="noopener">@kieranjmartin</a>, 
<a href="https://github.com/lionel-" target="_blank" rel="noopener">@lionel-</a>, 
<a href="https://github.com/LudvigOlsen" target="_blank" rel="noopener">@LudvigOlsen</a>, 
<a href="https://github.com/mabafaba" target="_blank" rel="noopener">@mabafaba</a>, 
<a href="https://github.com/matteodefelice" target="_blank" rel="noopener">@matteodefelice</a>, 
<a href="https://github.com/MatthieuStigler" target="_blank" rel="noopener">@MatthieuStigler</a>, 
<a href="https://github.com/md0u80c9" target="_blank" rel="noopener">@md0u80c9</a>, 
<a href="https://github.com/michaelquinn32" target="_blank" rel="noopener">@michaelquinn32</a>, 
<a href="https://github.com/mitchelloharawild" target="_blank" rel="noopener">@mitchelloharawild</a>, 
<a href="https://github.com/moodymudskipper" target="_blank" rel="noopener">@moodymudskipper</a>, 
<a href="https://github.com/msberends" target="_blank" rel="noopener">@msberends</a>, 
<a href="https://github.com/pavopax" target="_blank" rel="noopener">@pavopax</a>, 
<a href="https://github.com/rbjanis" target="_blank" rel="noopener">@rbjanis</a>, 
<a href="https://github.com/romainfrancois" target="_blank" rel="noopener">@romainfrancois</a>, 
<a href="https://github.com/rvg02010" target="_blank" rel="noopener">@rvg02010</a>, 
<a href="https://github.com/sfirke" target="_blank" rel="noopener">@sfirke</a>, 
<a href="https://github.com/Shians" target="_blank" rel="noopener">@Shians</a>, 
<a href="https://github.com/ShixiangWang" target="_blank" rel="noopener">@ShixiangWang</a>, 
<a href="https://github.com/stephensrmmartin" target="_blank" rel="noopener">@stephensrmmartin</a>, 
<a href="https://github.com/stufield" target="_blank" rel="noopener">@stufield</a>, 
<a href="https://github.com/Tazinho" target="_blank" rel="noopener">@Tazinho</a>, 
<a href="https://github.com/TimTeaFan" target="_blank" rel="noopener">@TimTeaFan</a>, 
<a href="https://github.com/tyluRp" target="_blank" rel="noopener">@tyluRp</a>, 
<a href="https://github.com/wgrundlingh" target="_blank" rel="noopener">@wgrundlingh</a>, 
<a href="https://github.com/xvrdm" target="_blank" rel="noopener">@xvrdm</a>, 
<a href="https://github.com/yannabraham" target="_blank" rel="noopener">@yannabraham</a>, 
<a href="https://github.com/ycroissant" target="_blank" rel="noopener">@ycroissant</a>, 
<a href="https://github.com/yogat3ch" target="_blank" rel="noopener">@yogat3ch</a>, and 
<a href="https://github.com/yutannihilation" target="_blank" rel="noopener">@yutannihilation</a>.</p>
<p>Your contributions are very valuable and important to us!</p>

      </div>


      

      </div> 
      
      <div class="column25">
        <div class="section hideOnMobile">
          
          <div class="sectionTitle">Contents</div>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#what-can-be-part-of-a-tibble">What can be part of a tibble?</a></li>
    <li><a href="#size-and-length">Size and length</a></li>
    <li><a href="#sturdy-recycling">Sturdy recycling</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ul>
</nav>
          
        </div>
        <div class="section">
          





        </div>
      </div> 

    </div> 
  </div>  
</div> 



        <div id="rStudioFooter" class="band">
          <div class="bandContent">
            <div id="copyright">
              
              
            </div>
            <div id="logos">
              <a href="" class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a>
              <a href="" class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a>
            </div>
          </div>
        </div>

      </div>  
    </div>  

    




<script src="//cdn.bootcss.com/highlight.js//highlight.min.js"></script>



<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>




    
<script src="/js/math-code.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    

  </body>
</html>

</body>
</html>
