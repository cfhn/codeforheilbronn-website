{{ $date := .Date }}
{{ $single_format := "2. January 2006" }}
{{ $range_start_format := "2." }}
{{ $range_end_format := "2. Jan 2006" }}

{{ with (time .Params.date_end) }}
  {{ if eq (time $date).Month (time .).Month }}
      {{ time.Format $range_start_format $date }} - {{ time.Format $range_end_format . }}
  {{ else }}
      {{ time.Format $range_start_format $date }} - {{ time.Format $single_format . }}
  {{ end }}
{{ else }}
  {{ time.Format $single_format $date }}
{{ end }}
